# Bittensor Subnet Development Knowledge Base
# Entry point for LLM agents

purpose: |
  Machine-optimized knowledge repository for designing and implementing
  Bittensor subnets. Start here, then load files based on your task.

# ============================================================================
# CRITICAL: Load subnet.invariants.yaml FIRST for any subnet work
# It contains non-negotiable rules that constrain all designs
# ============================================================================

files_by_category:
  core_rules:
    subnet.invariants.yaml: "NON-NEGOTIABLE constraints - LOAD FIRST"
    validator.rules.yaml: "validator trust model, ground truth, scoring"
    miner.rules.yaml: "miner development, communication"
    sybil.realities.yaml: "coldkey NOT sybil-proof, UID pressure"
    trust.assumptions.yaml: "what can/cannot be trusted"

  specifications:
    bittensor.core.yaml: "network, tokens, participants, keys, metagraph"
    subnet.lifecycle.yaml: "creation, activation, hyperparameters, epochs"
    validator.contract.yaml: "role, responsibilities, patterns"
    miner.contract.yaml: "role, communication, patterns"
    incentive.primitives.yaml: "design process, verification, scoring"

  mechanism_patterns:
    compute_auction.yaml: "fungible compute, price competition (Targon)"
    capacity_market.yaml: "always-on infra, usage-based (Chutes)"
    data_indexing.yaml: "unique datasets, sample verification"
    prediction_market.yaml: "future predictions, delayed ground truth"
    time_series_forecasting.yaml: "sequential predictions, baseline comparison"
    external_activity_verification.yaml: "third-party platform activity"
    adversarial_red_blue.yaml: "detection+generation, no validator truth"
    container_execution.yaml: "miners compete on code quality (Basilica)"

  integrations:
    chutes.integration.yaml: "SN64 LLM inference API"
    basilica.containers.yaml: "container execution for agent subnets"
    hippius.integration.yaml: "SN75 decentralized storage, S3/IPFS, provenance"
    sdk.quick_reference.yaml: "Python SDK patterns, token trading"
    btcli.reference.yaml: "CLI command reference"
    local.development.yaml: "local subtensor setup"
    ops.principles.yaml: "deployment, monitoring, operations"

  guidance:
    design_flow.yaml: "decision tree for mechanism selection"
    load_order.yaml: "context loading sequences by task"

task_routing:
  designing_new_subnet:
    load:
      - subnet.invariants.yaml
      - design_flow.yaml
      - incentive.primitives.yaml
    then: "select pattern from mechanism_patterns based on commodity type"

  implementing_validator:
    load:
      - subnet.invariants.yaml
      - validator.rules.yaml
      - validator.contract.yaml
      - "{selected_pattern}.yaml"
      - sdk.quick_reference.yaml

  understanding_attacks:
    load:
      - trust.assumptions.yaml
      - sybil.realities.yaml
      - incentive.primitives.yaml

  local_development:
    load:
      - local.development.yaml
      - sdk.quick_reference.yaml
      - btcli.reference.yaml

  container_agent_subnet:
    load:
      - subnet.invariants.yaml
      - container_execution.yaml
      - basilica.containers.yaml
      - chutes.integration.yaml

  chutes_integration:
    load:
      - chutes.integration.yaml
      - validator.contract.yaml

  hippius_storage:
    load:
      - hippius.integration.yaml
      - validator.contract.yaml
    use_when:
      - storing_evaluation_datasets
      - miner_artifact_submission
      - provenance_verification
      - large_file_distribution

  cli_operations:
    load:
      - btcli.reference.yaml

  token_trading:
    load:
      - sdk.quick_reference.yaml

critical_doctrines:
  - "Validator-only development: ONLY write validator.py, NEVER miner code"
  - "'What am I measuring?' must answer in ONE sentence"
  - "Axon/Dendrite/Synapse: DEPRECATED, use HTTP + Epistula"
  - "Open source > black box mechanisms"
  - "Validators NOT trusted individually"
  - "Secret eval sets WILL leak"
  - "Coldkeys NOT sybil-proof (UID pressure is real protection)"
  - "Compute costs â†’ miners, not validators"
  - "Commit-reveal weights: mature subnet tool only"
  - "Containers required when miners compete on software"
  - "Provenance via Hippius: timestamp data to prove temporal ordering"
